<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    #myBtn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 99;
      font-size: 18px;
      border: none;
      outline: none;
      background-color: red;
      color: white;
      cursor: pointer;
      padding: 15px;
      border-radius: 4px;
    }
    
    #myBtn:hover {
      background-color: #555;
    }
    
    .p1 {
      font-family: "Times New Roman", Times, serif;
    }

    .responsive {
      width: 100%;
      height: auto;
    }
    </style>
  </head>
  <body font-family: "Times New Roman", Times, serif;>
    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <div class="container" style = "width:100%;
      margin: auto 0;padding-top:20px;padding-left:0px;">
      <h3> </h3>
      <div class="panel-group">
        <div class="panel panel-success">
          <div class="panel-heading">Running the Simulation</div>
          <div class="panel-body">
            <ul>
              <li>
                <p class="p1">Click on the 'RUN SIMULATION' button located at the 
                top-right corner of the home page to start HACSim.</p>
                <img src="run_button.png" alt="Start Simulator" class="responsive" style=" display: block; margin-left: auto; margin-right: auto; width: 50%;"></img>
              </li>
              <li>
                <p class="p1">Enter all the required arguments in the main interface and sub interface.</p>
                <small class="p1"> First, click on the main interface and fill in the desired number of permutations, proportion of haplotypes to recover, as well as the desired confidence level for calculations and plotting. By default, all iterations are run. However, users can choose to run the first iteration only. This is useful when simulations take a long time to finish, or when a user is interested only in assessing genetic diversity present in the current dataset. Next, go to the sub interface and toggle either real or hypothetical species simulation type. <small></p>
                <div class="row">
                <div class="column" style="float: left;width: 50%;padding: 5px;">
                  <img src="main_interface.png" alt="Main interface" class="responsive" /img>
                </div>
                <div class="column" style="float: left;width: 50%;padding: 5px;">
                  <img src="sub_interface.png" alt="Sub interface" class="responsive"/img>
                </div>
              </div>
              </li>
              <li>
                <p class="p1">To simulate real species, follow the instructions in the picture below.</p>
                </small class="p1"> Users can either upload an aligned and trimmed FASTA file, or choose from several preloaded taxon datasets via a drop-down menu. </small></p>
                <img src="real.png" alt="Real species" class="responsive" style=" display: block; margin-left: auto; margin-right: auto; width: 50%;"></img>
              </li>
              <li>
                <p class="p1">
                  To simulate hypothetical species, fill in the required input arguments depicted in the picture below.
                </p>
                <img src="hypothetical.png" alt="Start Simulator" class="responsive" style=" display: block; margin-left: auto; margin-right: auto; width: 50%;"></img>
              </li>
              <li>
                <p class="p1">For both hypothetical and real species simulations, users have the option to input either the proportion of haplotype labels or DNA sequences to subsample. To do so, click the appropriate checkbox and enter the desired value in the input field.</p>
                <p class="p1">Once all steps have been completed, click 'Run'. If simulating real species, a pop-up window will appear again, prompting reselection of the desired FASTA file.</p>
                <div class="row">
                <div class="column" style="float: left;width: 50%;padding: 5px;">
                  <img src="subsample.png" alt="subsample DNA sequences" class="responsive" /img>
                </div>
                <div class="column" style="float: left;width: 50%;padding: 5px;">
                  <img src="hit.png" alt="Run button" class="responsive" /img>
                </div>
              </div>
              </li>
            </ul>
            <p class="p1">
              Depending on the size of input parameters to the simulation, the algorithm in its current form, can be quite slow to reach full convergence. For a species with equal haplotype frequency, saturation of the haplotype accumulation curve is (usually) reached very rapidly (one exception occurs when N = Hstar). On the other hand, for a species with many rare haplotypes, the generated haplotype accumulation curve will take signficantly longer to reach an asymptote since rare haplotypes will not be sampled as frequently as dominant ones.
            </p>
            <p class="p1">
              Altered input parameters can be set back to their default values by clicking the 'Reset' button found in the main interface. In addition, the 'Refresh' button within the Sub interface can be used to clear the Results Panel between simulations.
            </p> 
          </div>
        </div>.
      </div>
    </div>
    <script>
    //Get the button
    var mybutton = document.getElementById("myBtn");
    
    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};
    
    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }
    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
    </script>
  </body>
</html>